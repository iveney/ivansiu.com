<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: matlab | Zigang Xiao]]></title>
  <link href="http://blog.ivansiu.com/blog/categories/matlab/atom.xml" rel="self"/>
  <link href="http://blog.ivansiu.com/"/>
  <updated>2014-05-01T02:26:08-05:00</updated>
  <id>http://blog.ivansiu.com/</id>
  <author>
    <name><![CDATA[Zigang Xiao (Ivan)]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Source-highlight for matlab/octave]]></title>
    <link href="http://blog.ivansiu.com/blog/2014/05/01/source-highlight-for-matlab-slash-octave/"/>
    <updated>2014-05-01T01:59:40-05:00</updated>
    <id>http://blog.ivansiu.com/blog/2014/05/01/source-highlight-for-matlab-slash-octave</id>
    <content type="html"><![CDATA[![](https://dl.dropboxusercontent.com/s/jqqno07xizfspkt/2014-05-01-source-highlight-for-matlab-slash-octave.png)

I recently worked with Matlab a lot. When in console, sometimes I want to use
`less` to quickly examine the file content, and I have already [set it up](http://superuser.com/a/71593)
such that it uses [source-highlight](http://www.gnu.org/software/src-highlite/)
to output colorful escape sequence to the console.
However, source-highlight does not come with a syntax support for Matlab
by default. Luckily, this [post](http://blog.sina.com.cn/s/blog_4513dde60100o6o4.html) (in Chinese) provides a solution.

<!-- more -->

First of all, install source-highlight using homebrew. 

```
brew install source-highlight
```

Note that  source-highlight depends on boost, and as of the date of this post,
brew provides a precompiled library (bottle) for boost. However, the python
support is compiled against the system python, so if you installed a custom one
(say installed via homebrew)
and use it by default, brew will compile the boost from source instead, which
takes an extremely long time.  To prevent this, we need to unlink it first,
and link it back afterwards. That is,


```
brew unlink python
brew link python    # after installation
```

Go to the following folder and create two files,

```
cd `brew --prefix source-highlight`/share/source-highlight
```

``` matlab matlab.style
keyword blue;
string #a020f0;
comment darkgreen;
```


``` matlab matlab.lang
keyword = "break|case|catch|classdef|continue|else|elseif|end|for|function|global|if|otherwise|parfor|persistent|return|spmd|switch|try|while"
comment start "%"
trans = '[a-zA-Z0-9_.]\''
string delim "'" "'" escape "''"
```

Finally, edit `lang.map` to create a mapping for matlab file.

```
echo 'm = matlab.lang' >> lang.map
```]]></content>
  </entry>
  
</feed>
